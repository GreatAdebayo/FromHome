{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fromhome/frontend/src/components/Files.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { Baseurl } from '../components/Baseurl.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Toast2 = Swal.mixin({\n  toast: true,\n  position: 'top-end',\n  showConfirmButton: false,\n  timer: 1500,\n  didOpen: toast => {\n    toast.addEventListener('mouseenter', Swal.stopTimer);\n    toast.addEventListener('mouseleave', Swal.resumeTimer);\n  }\n});\n\nconst Files = props => {\n  _s();\n\n  useEffect(() => {\n    const allDetails = localStorage.getItem('details');\n\n    if (allDetails) {\n      setLsDetails(JSON.parse(allDetails));\n      setShowDetails(true);\n    } else {\n      setLsDetails({});\n    } // LOOPING OUT THE SECTIONS\n\n\n    const sectionArray = localStorage.getItem('details');\n\n    if (sectionArray) {\n      setLsSection(JSON.parse(sectionArray).section);\n\n      if (lsSection === '') {\n        setShowSection(false);\n      } else {\n        setShowSection(true);\n      }\n    } else {\n      setLsSection([]);\n    }\n  }, []);\n  const fileRef = useRef(null);\n  const sectionRef = useRef(null);\n  const [lsDetails, setLsDetails] = useState({});\n  const [lsSection, setLsSection] = useState([]);\n  const [showDetails, setShowDetails] = useState(false);\n  const [showSection, setShowSection] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const [isRoll, setIsRoll] = useState(false);\n  const [file, setFile] = useState('');\n\n  const handleChange = e => {\n    setFileName(fileRef.current.value);\n    setFile(e.target.files[0]);\n\n    if (setFileName) {\n      Toast2.fire({\n        icon: 'success',\n        title: 'File Chosen'\n      });\n    }\n  };\n\n  const handleFile = () => {\n    const LsSection = lsDetails.section;\n    const sectionName = sectionRef.current.value;\n\n    if (fileName && sectionName) {\n      if (LsSection) {\n        let check = LsSection.find(data => sectionName == data.name);\n\n        if (check) {\n          let fileArray = check.file;\n          fileArray.push(fileName);\n          localStorage.setItem('details', JSON.stringify(lsDetails));\n          const sectionArray = localStorage.getItem('details');\n          Toast2.fire({\n            icon: 'success',\n            title: 'File attached'\n          });\n          setLsSection(JSON.parse(sectionArray).section);\n        }\n      }\n    } else {\n      Toast2.fire({\n        icon: 'info',\n        title: 'Please choose a file'\n      });\n    }\n  };\n\n  const postCourse = e => {\n    e.preventDefault();\n    const formData = new FormData();\n    formData.append('myFile', file, file.name); // setIsRoll(true)\n    // console.log(fileName)\n\n    axios.post(`${Baseurl}test.php`, formData, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(res => {\n      console.log(res.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border p-4 rounded\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      \"data-aos\": \"fade-up\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border px-3 pt-3 mb-4 rounded text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: '\"Poppins\" sans-serif',\n              color: '#777777'\n            },\n            className: \"font-weight-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-paperclip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 101\n            }, this), \" Attach Files \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 147\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: '\"Poppins\" sans-serif',\n                  color: '#777777'\n                },\n                children: \"You can't make any changes once course is posted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 154\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 4\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 5\n        }, this), showDetails ? /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"aler py-2 pl-2 mb-3 tx\",\n          style: {\n            color: '#777777'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-uppercase\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Course Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Course Title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 3\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-uppercase\",\n            children: lsDetails.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 34\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 92\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Category:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 3\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-uppercase\",\n            children: lsDetails.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 30\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 91\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cost:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 3\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-uppercase\",\n            children: lsDetails.cost == '' ? 'Free' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\"\\u20A6\", lsDetails.cost]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 18\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"btn g px-2 shadow mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Choose File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 4\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            hidden: true,\n            multiple: true,\n            ref: fileRef,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 3\n        }, this), fileName == '' ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"aler py-2 pl-2 mb-3 tx\",\n          style: {\n            color: '#777777'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"File Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 4\n          }, this), \" \", fileName.split(/[\\\\/]/).pop()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"tx font-weight-bold\",\n            style: {\n              fontFamily: '\"Poppins\" sans-serif',\n              color: '#777777'\n            },\n            children: \"Choose Section for this File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 4\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"input-group mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"select\", {\n              class: \"form-control form-control\",\n              type: \"text\",\n              ref: sectionRef,\n              children: lsSection.map((item, index) => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: item.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 5\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 4\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"input-group-append\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                class: \"input-group-text btn g font-weight-bold border-0\",\n                id: \"basic-addon2\",\n                onClick: handleFile,\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 4\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 4\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 4\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [showSection ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"tx text-uppercase\",\n            style: {\n              color: '#777777'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Course Sections:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 79\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 20\n          }, this) : null, lsSection.map((item, index) => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"aler py-1 px-2 mb-3 tx\",\n                style: {\n                  color: '#777777'\n                },\n                children: /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    class: \"text-uppercase mr-3\",\n                    children: [index + 1, \". \", item.name]\n                  }, index, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 7\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: \"Content:\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 10\n                    }, this), \" \", item.content.length > 15 ? `${item.content.substring(0, 15)}...` : item.content == '' ? 'No Content' : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: item.content\n                    }, void 0, false), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 161\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: [\"File: \", item.file == '' ? 'No File Attached' : 'File Attached']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 16\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 13\n                      }, this), \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 170,\n                      columnNumber: 7\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 169,\n                    columnNumber: 7\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 7\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn g px-3 shadow font-weight-bold\",\n          style: {\n            backgroundColor: '#5FCF80',\n            color: 'white',\n            fontFamily: '\"Ubuntu\", sans-serif'\n          },\n          onClick: postCourse,\n          children: [isRoll ? /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fad fa-spinner fa-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 38\n          }, this) : null, \" Post Course \", /*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fal fa-long-arrow-right\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Files, \"DUDTfqtMDMl3V22RIqQF85+cS5w=\");\n\n_c = Files;\nexport default Files;\n\nvar _c;\n\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/fromhome/frontend/src/components/Files.js"],"names":["React","useEffect","useState","useRef","useHistory","Swal","axios","Baseurl","Toast2","mixin","toast","position","showConfirmButton","timer","didOpen","addEventListener","stopTimer","resumeTimer","Files","props","allDetails","localStorage","getItem","setLsDetails","JSON","parse","setShowDetails","sectionArray","setLsSection","section","lsSection","setShowSection","fileRef","sectionRef","lsDetails","showDetails","showSection","fileName","setFileName","isRoll","setIsRoll","file","setFile","handleChange","e","current","value","target","files","fire","icon","title","handleFile","LsSection","sectionName","check","find","data","name","fileArray","push","setItem","stringify","postCourse","preventDefault","formData","FormData","append","post","headers","then","res","console","log","fontFamily","color","category","cost","split","pop","map","item","index","content","length","substring","backgroundColor"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\nimport {useHistory} from 'react-router-dom'\nimport Swal from 'sweetalert2'\nimport axios from 'axios';\nimport { Baseurl } from '../components/Baseurl.js';\n\n\nconst Toast2 = Swal.mixin({\n   toast: true,\n   position: 'top-end',\n   showConfirmButton: false,\n   timer: 1500,\n   didOpen: (toast) => {\n   toast.addEventListener('mouseenter', Swal.stopTimer)\n   toast.addEventListener('mouseleave', Swal.resumeTimer)\n   }\n})\n\n\nconst Files = (props) => {\n   useEffect(() => {\n      const allDetails = localStorage.getItem('details'); \n      if (allDetails) {  \n      setLsDetails(JSON.parse(allDetails))\n       setShowDetails(true) \n      \n        } else {\n         setLsDetails({})\n           \n      }\n      \n      // LOOPING OUT THE SECTIONS\n      const sectionArray = localStorage.getItem('details');\n      if (sectionArray) {\n         setLsSection(JSON.parse(sectionArray).section)\n         if (lsSection === '') {\n            setShowSection(false)\n         } else {\n            setShowSection(true)\n         }\n     \n         } else {\n      setLsSection([])   \n      } \n     \n      }, [])\n   \n  const fileRef = useRef(null)\n  const sectionRef = useRef(null)\n  const [lsDetails, setLsDetails] = useState({})\n  const [lsSection, setLsSection] = useState([])\n  const [showDetails, setShowDetails] = useState(false)\n  const [showSection, setShowSection] = useState(false)\n  const [fileName, setFileName] = useState('')\n  const [isRoll, setIsRoll] = useState(false)\n  const [file, setFile] = useState('')\n   \n\n  const handleChange = (e) => {\n   setFileName(fileRef.current.value);\n   setFile(e.target.files[0])\n   if (setFileName) {\n    Toast2.fire({\n    icon: 'success',\n    title: 'File Chosen'\n    }) \n   }  \n     \n   }\n\nconst handleFile = () => {\nconst LsSection = lsDetails.section \nconst sectionName = sectionRef.current.value;\nif (fileName && sectionName) {\nif (LsSection){\n   let check = LsSection.find(data => sectionName == data.name)\n   if (check) {\n   let fileArray = check.file\n   fileArray.push(fileName)\n   localStorage.setItem('details', JSON.stringify(lsDetails))\n   const sectionArray = localStorage.getItem('details');\n   Toast2.fire({\n         icon: 'success',\n         title: 'File attached'\n   })\n   setLsSection(JSON.parse(sectionArray).section)\n }   \n   }\n} else {\n   Toast2.fire({\n      icon: 'info',\n      title: 'Please choose a file'\n      }) \n}\n}\n   \n   const postCourse = (e) => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('myFile', file, file.name)\n      // setIsRoll(true)\n      // console.log(fileName)\n      axios.post(`${Baseurl}test.php`, formData, {\n         headers: {\n            'content-type': 'multipart/form-data'\n         }\n      }).then(res => {\n         console.log(res.data)\n      })\n\n   }\n\n  return (\n    <div className=\"border p-4 rounded\">\n    <form data-aos=\"fade-up\">\n    <div class=\"form-group\">\n    <div className=\"border px-3 pt-3 mb-4 rounded text-center\">\n   <p style={{ fontFamily: '\"Poppins\" sans-serif', color: '#777777' }} className=\"font-weight-bold\"><i class=\"fas fa-paperclip\"></i> Attach Files <br /> <span>\n  <small style={{fontFamily: '\"Poppins\" sans-serif', color: '#777777' }}>You can't make any changes once course is posted</small>\n  </span></p>\n   </div>\n          \n  {showDetails ? <div class=\"aler py-2 pl-2 mb-3 tx\" style={{ color: '#777777' }}>\n  <p className=\"text-uppercase\"><strong>Course Details</strong></p>\n  <strong>Course Title:</strong> <span className=\"text-uppercase\">{lsDetails.title}</span> <br/>\n  <strong>Category:</strong> <span className=\"text-uppercase\">{lsDetails.category}</span> <br />\n  <strong>Cost:</strong> <span className=\"text-uppercase\">{lsDetails.cost == '' ? 'Free' : <>₦{lsDetails.cost}</>}</span>          \n  </div> : null}\n\n  <label className=\"btn g px-2 shadow mt-4\">\n   <strong> Choose File</strong> <input type=\"file\" hidden multiple ref={fileRef} onChange={handleChange}/>\n    </label>\n              \n   {fileName == '' ? null : <div class=\"aler py-2 pl-2 mb-3 tx\" style={{ color: '#777777' }}>\n   <strong>File Name:</strong> {fileName.split(/[\\\\/]/).pop()}\n   </div>}\n\n\n   <div class=\"form-group\">\n   <small className=\"tx font-weight-bold\" style={{fontFamily: '\"Poppins\" sans-serif', color:'#777777'}}>Choose Section for this File</small>\n   <div class=\"input-group mb-3\">\n   <select class=\"form-control form-control\"  type=\"text\" ref={sectionRef}>\n   {lsSection.map((item, index) => {\n      return (\n    <option key={index}>{item.name}</option>\n      );\n      })} \n   </select>\n   <div class=\"input-group-append\">\n   <span class=\"input-group-text btn g font-weight-bold border-0\" id=\"basic-addon2\"  onClick={handleFile}>Add</span>\n   </div>\n    </div>\n    </div>\n\n\n\n\n\n\n    <div className=\"row\">\n    {showSection ? <p className=\"tx text-uppercase\" style={{color:'#777777'}}><strong>Course Sections:</strong></p>\n     :null}\n    {lsSection.map((item, index) => {\n      return (\n      <div className=\"col-md-3\">\n      <div class=\"aler py-1 px-2 mb-3 tx\" style={{ color: '#777777' }}>\n      <>\n      <strong class=\"text-uppercase mr-3\" key={index}>{index+1}. {item.name}</strong>\n      <p><strong>Content:</strong> {item.content.length > 15 ? `${item.content.substring(0, 15)}...` : item.content == '' ? 'No Content' : <>{item.content}</>} <br />\n      <span><p><strong>File: {item.file == '' ? 'No File Attached' : 'File Attached'}</strong></p> </span></p>\n            \n      </>\n       </div> \n      </div>\n         ); })}        \n      </div>\n\n\n\n   <button className=\"btn g px-3 shadow font-weight-bold\" style={{\n    backgroundColor: '#5FCF80',\n    color: 'white',\n    fontFamily:'\"Ubuntu\", sans-serif'\n   }} onClick={postCourse}>{isRoll ? <i class=\"fad fa-spinner fa-spin\"></i> \n   : null } Post Course <i class=\"fal fa-long-arrow-right\"></i></button>\n    </div>\n      </form>\n      </div>\n )\n}\n\nexport default Files;\n"]},"metadata":{},"sourceType":"module"}