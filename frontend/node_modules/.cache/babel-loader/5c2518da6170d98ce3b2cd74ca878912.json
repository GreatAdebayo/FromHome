{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/fromhome/frontend/src/components/Files.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport Swal from 'sweetalert2';\nimport axios from 'axios';\nimport { Baseurl } from '../components/Baseurl.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Toast2 = Swal.mixin({\n  toast: true,\n  position: 'top-end',\n  showConfirmButton: false,\n  timer: 1500,\n  didOpen: toast => {\n    toast.addEventListener('mouseenter', Swal.stopTimer);\n    toast.addEventListener('mouseleave', Swal.resumeTimer);\n  }\n});\n\nconst Files = props => {\n  _s();\n\n  useEffect(() => {// const allDetails = localStorage.getItem('details'); \n    // if (allDetails) {  \n    // setLsDetails(JSON.parse(allDetails))\n    //  setShowDetails(true) \n    //   } else {\n    //    setLsDetails({})\n    // }\n    // LOOPING OUT THE SECTIONS\n    // const sectionArray = localStorage.getItem('details');\n    // if (sectionArray) {\n    //    setLsSection(JSON.parse(sectionArray).section)\n    //    if (lsSection === '') {\n    //       setShowSection(false)\n    //    } else {\n    //       setShowSection(true)\n    //    }\n    //    } else {\n    // setLsSection([])   \n    // } \n  }, []); //   const fileRef = useRef(null)\n  //   const sectionRef = useRef(null)\n  //   const [lsDetails, setLsDetails] = useState({})\n  //   const [lsSection, setLsSection] = useState([])\n  //   const [showDetails, setShowDetails] = useState(false)\n  //   const [showSection, setShowSection] = useState(false)\n  //   const [fileName, setFileName] = useState('')\n  //   const [isRoll, setIsRoll] = useState(false)\n  //   const [file, setFile] = useState('')\n\n  const handleChange = e => {\n    setFileName(fileRef.current.value);\n    setFile(e.target.files[0]);\n\n    if (setFileName) {\n      Toast2.fire({\n        icon: 'success',\n        title: 'File Chosen'\n      });\n    }\n  };\n\n  const handleFile = () => {\n    const LsSection = lsDetails.section;\n    const sectionName = sectionRef.current.value;\n\n    if (fileName && sectionName) {\n      if (LsSection) {\n        let check = LsSection.find(data => sectionName == data.name);\n\n        if (check) {\n          let fileArray = check.file;\n          fileArray.push(fileName);\n          localStorage.setItem('details', JSON.stringify(lsDetails));\n          const sectionArray = localStorage.getItem('details');\n          Toast2.fire({\n            icon: 'success',\n            title: 'File attached'\n          });\n          setLsSection(JSON.parse(sectionArray).section);\n        }\n      }\n    } else {\n      Toast2.fire({\n        icon: 'info',\n        title: 'Please choose a file'\n      });\n    }\n  }; // const postCourse = (e) => {\n  //    e.preventDefault();\n  //    const formData = new FormData();\n  //    formData.append('myFile', file, file.name)\n  //    // setIsRoll(true)\n  //    console.log(fileName)\n  //    axios.post(`${Baseurl}test.php`, formData, {\n  //       headers: {\n  //          'content-type': 'multipart/form-data'\n  //       }\n  //    }).then(res => {\n  //       console.log(res.data)\n  //    })\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border p-4 rounded m-4\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      \"data-aos\": \"fade-up\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border px-3 pt-3 mb-4 rounded text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: '\"Poppins\" sans-serif',\n              color: '#777777'\n            },\n            className: \"font-weight-bold\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-paperclip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 101\n            }, this), \" Add Files \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 144\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: /*#__PURE__*/_jsxDEV(\"small\", {\n                style: {\n                  fontFamily: '\"Poppins\" sans-serif',\n                  color: '#777777'\n                },\n                children: \"You can add Videos, PDF, Text Files etc.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 3\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 151\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 4\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Files, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Files;\nexport default Files;\n\nvar _c;\n\n$RefreshReg$(_c, \"Files\");","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/fromhome/frontend/src/components/Files.js"],"names":["React","useEffect","useState","useRef","Swal","axios","Baseurl","Toast2","mixin","toast","position","showConfirmButton","timer","didOpen","addEventListener","stopTimer","resumeTimer","Files","props","handleChange","e","setFileName","fileRef","current","value","setFile","target","files","fire","icon","title","handleFile","LsSection","lsDetails","section","sectionName","sectionRef","fileName","check","find","data","name","fileArray","file","push","localStorage","setItem","JSON","stringify","sectionArray","getItem","setLsSection","parse","fontFamily","color"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef} from 'react'\nimport Swal from 'sweetalert2'\nimport axios from 'axios';\nimport { Baseurl } from '../components/Baseurl.js';\n\n\nconst Toast2 = Swal.mixin({\n   toast: true,\n   position: 'top-end',\n   showConfirmButton: false,\n   timer: 1500,\n   didOpen: (toast) => {\n   toast.addEventListener('mouseenter', Swal.stopTimer)\n   toast.addEventListener('mouseleave', Swal.resumeTimer)\n   }\n})\n\n\nconst Files = (props) => {\n   useEffect(() => {\n      // const allDetails = localStorage.getItem('details'); \n      // if (allDetails) {  \n      // setLsDetails(JSON.parse(allDetails))\n      //  setShowDetails(true) \n      \n      //   } else {\n      //    setLsDetails({})\n           \n      // }\n      \n      // LOOPING OUT THE SECTIONS\n      // const sectionArray = localStorage.getItem('details');\n      // if (sectionArray) {\n      //    setLsSection(JSON.parse(sectionArray).section)\n      //    if (lsSection === '') {\n      //       setShowSection(false)\n      //    } else {\n      //       setShowSection(true)\n      //    }\n     \n      //    } else {\n      // setLsSection([])   \n      // } \n     \n      }, [])\n   \n//   const fileRef = useRef(null)\n//   const sectionRef = useRef(null)\n//   const [lsDetails, setLsDetails] = useState({})\n//   const [lsSection, setLsSection] = useState([])\n//   const [showDetails, setShowDetails] = useState(false)\n//   const [showSection, setShowSection] = useState(false)\n//   const [fileName, setFileName] = useState('')\n//   const [isRoll, setIsRoll] = useState(false)\n//   const [file, setFile] = useState('')\n   \n\n  const handleChange = (e) => {\n   setFileName(fileRef.current.value);\n   setFile(e.target.files[0])\n   if (setFileName) {\n    Toast2.fire({\n    icon: 'success',\n    title: 'File Chosen'\n    }) \n   }  \n     \n   }\n\nconst handleFile = () => {\nconst LsSection = lsDetails.section \nconst sectionName = sectionRef.current.value;\nif (fileName && sectionName) {\nif (LsSection){\n   let check = LsSection.find(data => sectionName == data.name)\n   if (check) {\n   let fileArray = check.file\n   fileArray.push(fileName)\n   localStorage.setItem('details', JSON.stringify(lsDetails))\n   const sectionArray = localStorage.getItem('details');\n   Toast2.fire({\n         icon: 'success',\n         title: 'File attached'\n   })\n   setLsSection(JSON.parse(sectionArray).section)\n }   \n   }\n} else {\n   Toast2.fire({\n      icon: 'info',\n      title: 'Please choose a file'\n      }) \n}\n}\n   \n   // const postCourse = (e) => {\n   //    e.preventDefault();\n   //    const formData = new FormData();\n   //    formData.append('myFile', file, file.name)\n   //    // setIsRoll(true)\n   //    console.log(fileName)\n   //    axios.post(`${Baseurl}test.php`, formData, {\n   //       headers: {\n   //          'content-type': 'multipart/form-data'\n   //       }\n   //    }).then(res => {\n   //       console.log(res.data)\n   //    })\n\n   // }\n\n  return (\n    <div className=\"border p-4 rounded m-4\">\n    <form data-aos=\"fade-up\">\n    <div class=\"form-group\">\n    <div className=\"border px-3 pt-3 mb-4 rounded text-center\">\n   <p style={{ fontFamily: '\"Poppins\" sans-serif', color: '#777777' }} className=\"font-weight-bold\"><i class=\"fas fa-paperclip\"></i> Add Files <br /> <span>\n  <small style={{fontFamily: '\"Poppins\" sans-serif', color: '#777777' }}>You can add Videos, PDF, Text Files etc.</small>\n  </span></p>\n   </div>\n          \n  {/* {showDetails ? <div class=\"aler py-2 pl-2 mb-3 tx\" style={{ color: '#777777' }}>\n  <p className=\"text-uppercase\"><strong>Course Details</strong></p>\n  <strong>Course Title:</strong> <span className=\"text-uppercase\">{lsDetails.title}</span> <br/>\n  <strong>Category:</strong> <span className=\"text-uppercase\">{lsDetails.category}</span> <br />\n  <strong>Cost:</strong> <span className=\"text-uppercase\">{lsDetails.cost == '' ? 'Free' : <>₦{lsDetails.cost}</>}</span>          \n  </div> : null} */}\n\n  {/* <label className=\"btn g px-2 shadow mt-4\">\n   <strong> Choose File</strong> <input type=\"file\" hidden multiple ref={fileRef} onChange={handleChange}/>\n    </label>\n              \n   {fileName == '' ? null : <div class=\"aler py-2 pl-2 mb-3 tx\" style={{ color: '#777777' }}>\n   <strong>File Name:</strong> {fileName.split(/[\\\\/]/).pop()}\n   </div>} */}\n\n\n   {/* <div class=\"form-group\">\n   <small className=\"tx font-weight-bold\" style={{fontFamily: '\"Poppins\" sans-serif', color:'#777777'}}>Choose Section for this File</small>\n   <div class=\"input-group mb-3\">\n   <select class=\"form-control form-control\"  type=\"text\" ref={sectionRef}>\n   {lsSection.map((item, index) => {\n      return (\n    <option key={index}>{item.name}</option>\n      );\n      })} \n   </select>\n   <div class=\"input-group-append\">\n   <span class=\"input-group-text btn g font-weight-bold border-0\" id=\"basic-addon2\"  onClick={handleFile}>Add</span>\n   </div>\n    </div>\n    </div> */}\n\n\n\n\n\n\n    {/* <div className=\"row\">\n    {showSection ? <p className=\"tx text-uppercase\" style={{color:'#777777'}}><strong>Course Sections:</strong></p>\n     :null}\n    {lsSection.map((item, index) => {\n      return (\n      <div className=\"col-md-3\">\n      <div class=\"aler py-1 px-2 mb-3 tx\" style={{ color: '#777777' }}>\n      <>\n      <strong class=\"text-uppercase mr-3\" key={index}>{index+1}. {item.name}</strong>\n      <p><strong>Content:</strong> {item.content.length > 15 ? `${item.content.substring(0, 15)}...` : item.content == '' ? 'No Content' : <>{item.content}</>} <br />\n      <span><p><strong>File: {item.file == '' ? 'No File Attached' : 'File Attached'}</strong></p> </span></p>\n            \n      </>\n       </div> \n      </div>\n         ); })}        \n      </div> */}\n\n\n\n   {/* <button className=\"btn g px-3 shadow font-weight-bold\" style={{\n    backgroundColor: '#5FCF80',\n    color: 'white',\n    fontFamily:'\"Ubuntu\", sans-serif'\n   }} onClick={postCourse}>{isRoll ? <i class=\"fad fa-spinner fa-spin\"></i> \n   : null } Post Course <i class=\"fal fa-long-arrow-right\"></i></button> */}\n   </div>\n   </form>\n      </div>\n )\n}\n\nexport default Files;\n"]},"metadata":{},"sourceType":"module"}